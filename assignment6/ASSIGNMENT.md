# assignment6

<span dir="ltr" class="css-1f2ahkg-view"><div class="user_content enhanced jqueryUIWidgetized" data-testid="assignments-2-assignment-toggle-details-text"><h2><strong>🧩 Design Patterns in Financial Software Architecture</strong><strong></strong></h2>

<p><strong><span><span class="ally-file-link-holder link_holder"><a class="instructure_file_link inline_disabled" title="config.json" href="https://canvas.uchicago.edu/courses/66215/files/14066971?wrap=1" target="_blank" data-canvas-previewable="false" data-api-endpoint="https://canvas.uchicago.edu/api/v1/courses/66215/files/14066971" data-api-returntype="File" data-id="14066971"></a></span></span></strong></p>
<p><strong></strong><strong><span><span class="ally-file-link-holder link_holder"><span class="instructure_file_holder link_holder instructure_file_link_holder"><a class="inline_disabled" title="config.json" href="https://canvas.uchicago.edu/courses/66215/files/14066971?wrap=1" target="_blank" data-canvas-previewable="false" data-api-endpoint="https://canvas.uchicago.edu/api/v1/courses/66215/files/14066971" data-api-returntype="File" data-id="14066971">config.json</a><a class="file_download_btn" role="button" download="" style="margin-inline-start: 5px; text-decoration: none;" href="https://canvas.uchicago.edu/courses/66215/files/14066971/download?download_frd=1" data-id="14066971"><span role="presentation"><svg viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg" style="width:1em; height:1em; vertical-align:middle; fill:currentColor">
    <path d="m1807.093 1482.477 79.736 79.963-355.313 355.312H355.346L.035 1562.44l79.85-79.963 322.22 322.334H1484.76l322.334-322.334ZM997.677-.033v1167.02l355.313-355.313 79.962 79.85-491.858 491.633L449.46 891.524l79.962-79.85 355.313 355.313V-.033h112.941Z" fill-rule="evenodd"></path>
</svg>
</span><span class="screenreader-only">Download config.json</span></a></span></span></span></strong></p>
<p><strong><span><span class="ally-file-link-holder link_holder"><span class="instructure_file_holder link_holder instructure_file_link_holder"><a class="inline_disabled" title="external_data_bloomberg.xml" href="https://canvas.uchicago.edu/courses/66215/files/14066974?wrap=1" target="_blank" data-canvas-previewable="false" data-api-endpoint="https://canvas.uchicago.edu/api/v1/courses/66215/files/14066974" data-api-returntype="File" data-id="14066974">external_data_bloomberg.xml</a><a class="file_download_btn" role="button" download="" style="margin-inline-start: 5px; text-decoration: none;" href="https://canvas.uchicago.edu/courses/66215/files/14066974/download?download_frd=1" data-id="14066974"><span role="presentation"><svg viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg" style="width:1em; height:1em; vertical-align:middle; fill:currentColor">
    <path d="m1807.093 1482.477 79.736 79.963-355.313 355.312H355.346L.035 1562.44l79.85-79.963 322.22 322.334H1484.76l322.334-322.334ZM997.677-.033v1167.02l355.313-355.313 79.962 79.85-491.858 491.633L449.46 891.524l79.962-79.85 355.313 355.313V-.033h112.941Z" fill-rule="evenodd"></path>
</svg>
</span><span class="screenreader-only">Download external_data_bloomberg.xml</span></a></span></span></span></strong></p>
<p><strong><span><span class="ally-file-link-holder link_holder"><span class="instructure_file_holder link_holder instructure_file_link_holder"><a class="inline_disabled" title="external_data_yahoo.json" href="https://canvas.uchicago.edu/courses/66215/files/14066981?wrap=1" target="_blank" data-canvas-previewable="false" data-api-endpoint="https://canvas.uchicago.edu/api/v1/courses/66215/files/14066981" data-api-returntype="File" data-id="14066981">external_data_yahoo.json</a><a class="file_download_btn" role="button" download="" style="margin-inline-start: 5px; text-decoration: none;" href="https://canvas.uchicago.edu/courses/66215/files/14066981/download?download_frd=1" data-id="14066981"><span role="presentation"><svg viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg" style="width:1em; height:1em; vertical-align:middle; fill:currentColor">
    <path d="m1807.093 1482.477 79.736 79.963-355.313 355.312H355.346L.035 1562.44l79.85-79.963 322.22 322.334H1484.76l322.334-322.334ZM997.677-.033v1167.02l355.313-355.313 79.962 79.85-491.858 491.633L449.46 891.524l79.962-79.85 355.313 355.313V-.033h112.941Z" fill-rule="evenodd"></path>
</svg>
</span><span class="screenreader-only">Download external_data_yahoo.json</span></a></span></span></span></strong></p>
<p><strong><span><span class="ally-file-link-holder link_holder"><span class="instructure_file_holder link_holder instructure_file_link_holder"><a class="inline_disabled preview_in_overlay" title="instruments.csv" href="https://canvas.uchicago.edu/courses/66215/files/14066983?wrap=1" target="_blank" data-canvas-previewable="false" data-api-endpoint="https://canvas.uchicago.edu/api/v1/courses/66215/files/14066983" data-api-returntype="File" data-id="14066983">instruments.csv</a><a class="file_download_btn" role="button" download="" style="margin-inline-start: 5px; text-decoration: none;" href="https://canvas.uchicago.edu/courses/66215/files/14066983/download?download_frd=1" data-id="14066983"><span role="presentation"><svg viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg" style="width:1em; height:1em; vertical-align:middle; fill:currentColor">
    <path d="m1807.093 1482.477 79.736 79.963-355.313 355.312H355.346L.035 1562.44l79.85-79.963 322.22 322.334H1484.76l322.334-322.334ZM997.677-.033v1167.02l355.313-355.313 79.962 79.85-491.858 491.633L449.46 891.524l79.962-79.85 355.313 355.313V-.033h112.941Z" fill-rule="evenodd"></path>
</svg>
</span><span class="screenreader-only">Download instruments.csv</span></a></span></span></span></strong></p>
<p><strong><span><span class="ally-file-link-holder link_holder"><span class="instructure_file_holder link_holder instructure_file_link_holder"><a class="inline_disabled preview_in_overlay" title="market_data.csv" href="https://canvas.uchicago.edu/courses/66215/files/14066984?wrap=1" target="_blank" data-canvas-previewable="false" data-api-endpoint="https://canvas.uchicago.edu/api/v1/courses/66215/files/14066984" data-api-returntype="File" data-id="14066984">market_data.csv</a><a class="file_download_btn" role="button" download="" style="margin-inline-start: 5px; text-decoration: none;" href="https://canvas.uchicago.edu/courses/66215/files/14066984/download?download_frd=1" data-id="14066984"><span role="presentation"><svg viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg" style="width:1em; height:1em; vertical-align:middle; fill:currentColor">
    <path d="m1807.093 1482.477 79.736 79.963-355.313 355.312H355.346L.035 1562.44l79.85-79.963 322.22 322.334H1484.76l322.334-322.334ZM997.677-.033v1167.02l355.313-355.313 79.962 79.85-491.858 491.633L449.46 891.524l79.962-79.85 355.313 355.313V-.033h112.941Z" fill-rule="evenodd"></path>
</svg>
</span><span class="screenreader-only">Download market_data.csv</span></a></span></span></span></strong></p>
<p><strong><span><span class="ally-file-link-holder link_holder"><span class="instructure_file_holder link_holder instructure_file_link_holder"><a class="inline_disabled" title="portfolio_structure.json" href="https://canvas.uchicago.edu/courses/66215/files/14066987?wrap=1" target="_blank" data-canvas-previewable="false" data-api-endpoint="https://canvas.uchicago.edu/api/v1/courses/66215/files/14066987" data-api-returntype="File" data-id="14066987">portfolio_structure.json</a><a class="file_download_btn" role="button" download="" style="margin-inline-start: 5px; text-decoration: none;" href="https://canvas.uchicago.edu/courses/66215/files/14066987/download?download_frd=1" data-id="14066987"><span role="presentation"><svg viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg" style="width:1em; height:1em; vertical-align:middle; fill:currentColor">
    <path d="m1807.093 1482.477 79.736 79.963-355.313 355.312H355.346L.035 1562.44l79.85-79.963 322.22 322.334H1484.76l322.334-322.334ZM997.677-.033v1167.02l355.313-355.313 79.962 79.85-491.858 491.633L449.46 891.524l79.962-79.85 355.313 355.313V-.033h112.941Z" fill-rule="evenodd"></path>
</svg>
</span><span class="screenreader-only">Download portfolio_structure.json</span></a></span></span></span></strong></p>
<p><strong><span><span class="ally-file-link-holder link_holder"><span class="instructure_file_holder link_holder instructure_file_link_holder"><a class="inline_disabled" title="strategy_params.json" href="https://canvas.uchicago.edu/courses/66215/files/14066989?wrap=1" target="_blank" data-canvas-previewable="false" data-api-endpoint="https://canvas.uchicago.edu/api/v1/courses/66215/files/14066989" data-api-returntype="File" data-id="14066989">strategy_params.json</a><a class="file_download_btn" role="button" download="" style="margin-inline-start: 5px; text-decoration: none;" href="https://canvas.uchicago.edu/courses/66215/files/14066989/download?download_frd=1" data-id="14066989"><span role="presentation"><svg viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg" style="width:1em; height:1em; vertical-align:middle; fill:currentColor">
    <path d="m1807.093 1482.477 79.736 79.963-355.313 355.312H355.346L.035 1562.44l79.85-79.963 322.22 322.334H1484.76l322.334-322.334ZM997.677-.033v1167.02l355.313-355.313 79.962 79.85-491.858 491.633L449.46 891.524l79.962-79.85 355.313 355.313V-.033h112.941Z" fill-rule="evenodd"></path>
</svg>
</span><span class="screenreader-only">Download strategy_params.json</span></a></span></span></span></strong></p>
<h3><strong>Overview</strong></h3>
<p><span>Design and implement a modular Python system for simulating a financial analytics and trading platform using key object-oriented design patterns. You will apply creational, structural, and behavioral patterns to build reusable, extensible components for data ingestion, strategy execution, analytics, and reporting.</span></p>
<p><span>Each pattern is introduced through a realistic financial problem. You will demonstrate how these patterns improve modularity, flexibility, and maintainability in a finance-focused software system.</span></p>
<h3><strong>🎯 Learning Objectives</strong></h3>
<ul>
<li aria-level="1"><span>Implement creational patterns to manage object instantiation and configuration.</span></li>
<li aria-level="1"><span>Apply structural patterns to enhance modularity, flexibility, and integration.</span></li>
<li aria-level="1"><span>Use behavioral patterns to encapsulate dynamic behavior and event-driven logic.</span></li>
<li aria-level="1"><span>Analyze tradeoffs between pattern complexity, maintainability, and performance.</span></li>
<li aria-level="1"><span>Integrate multiple patterns into a cohesive financial system.</span></li>
<li aria-level="1"><span>Generate signals, execute trades, and support undo/redo functionality.</span></li>
<li aria-level="1"><span>Extend instrument analytics using decorators without modifying core classes.</span></li>
<li aria-level="1"><span>Adapt external data formats into a unified internal structure.</span></li>
</ul>
<h3><strong>📋 Task Specifications</strong></h3>
<h4><strong>🏗️ Creational Patterns</strong></h4>
<p><strong>Factory Pattern</strong></p>
<ul>
<li aria-level="1"><span>Problem: Instantiate different instrument types (Stock, Bond, ETF) from raw data.</span></li>
<li aria-level="1"><span>Expectations:</span></li>
<ul>
<li aria-level="2"><span>Implement </span><span>InstrumentFactory.create_instrument(data: dict) -&gt; Instrument</span><span>.</span></li>
<li aria-level="2"><span>Support at least three instrument types with appropriate attributes.</span></li>
<li aria-level="2"><span>Demonstrate instantiation from </span><span>instruments.csv</span><span>.</span></li>
</ul>
</ul>
<p><strong>Singleton Pattern</strong></p>
<ul>
<li aria-level="1"><span>Problem: Centralize system configuration (e.g., logging level, strategy parameters).</span></li>
<li aria-level="1"><span>Expectations:</span></li>
<ul>
<li aria-level="2"><span>Implement a Singleton </span><span>Config</span><span> class.</span></li>
<li aria-level="2"><span>Load settings from </span><span>config.json</span><span>.</span></li>
<li aria-level="2"><span>Ensure all modules access the same instance.</span></li>
</ul>
</ul>
<p><strong>Builder Pattern</strong></p>
<ul>
<li aria-level="1"><span>Problem: Construct complex portfolios with nested positions and metadata.</span></li>
<li aria-level="1"><span>Expectations:</span></li>
<ul>
<li aria-level="2"><span>Implement </span><span>PortfolioBuilder</span><span> with fluent methods:</span></li>
<ul>
<li aria-level="3"><span>add_position(symbol, quantity, price)</span></li>
<li aria-level="3"><span>set_owner(name)</span></li>
<li aria-level="3"><span>add_subportfolio(name, builder)</span></li>
<li aria-level="3"><span>build() -&gt; Portfolio</span></li>
</ul>
<li aria-level="2"><span>Demonstrate building from </span><span>portfolio_structure.json</span><span>.</span></li>
</ul>
</ul>
<h4><strong>🧱 Structural Patterns</strong></h4>
<p><strong>Decorator Pattern</strong></p>
<ul>
<li aria-level="1"><span>Problem: Add analytics (volatility, beta, drawdown) to instruments without modifying base class.</span></li>
<li aria-level="1"><span>Expectations:</span></li>
<ul>
<li aria-level="2"><span>Implement decorators:</span></li>
<ul>
<li aria-level="3"><span>VolatilityDecorator</span></li>
<li aria-level="3"><span>BetaDecorator</span></li>
<li aria-level="3"><span>DrawdownDecorator</span></li>
</ul>
<li aria-level="2"><span>Each decorator overrides </span><span>.get_metrics()</span><span> and adds its own output.</span></li>
</ul>
</ul>
<p><span>Demonstrate stacking:</span><span><br></span><span>python</span><span><br></span><span>decorated = DrawdownDecorator(BetaDecorator(VolatilityDecorator(stock)))</span></p>
<p><strong>Adapter Pattern</strong></p>
<ul>
<li aria-level="1"><span>Problem: Standardize external data formats into </span><span>MarketDataPoint</span><span> objects.</span></li>
<li aria-level="1"><span>Expectations:</span></li>
<ul>
<li aria-level="2"><span>Implement adapters:</span></li>
<ul>
<li aria-level="3"><span>YahooFinanceAdapter</span></li>
<li aria-level="3"><span>BloombergXMLAdapter</span></li>
</ul>
<li aria-level="2"><span>Each exposes </span><span>.get_data(symbol: str) -&gt; MarketDataPoint</span><span>.</span></li>
<li aria-level="2"><span>Demonstrate ingestion from </span><span>external_data_yahoo.json</span><span> and </span><span>external_data_bloomberg.xml</span><span>.</span></li>
</ul>
</ul>
<p><strong>Composite Pattern</strong></p>
<ul>
<li aria-level="1"><span>Problem: Model portfolios as trees of positions and sub-portfolios.</span></li>
<li aria-level="1"><span>Expectations:</span></li>
<ul>
<li aria-level="2"><span>Define abstract </span><span>PortfolioComponent</span><span> with </span><span>.get_value()</span><span> and </span><span>.get_positions()</span><span>.</span></li>
<li aria-level="2"><span>Implement:</span></li>
<ul>
<li aria-level="3"><span>Position</span><span>: leaf node</span></li>
<li aria-level="3"><span>PortfolioGroup</span><span>: composite node</span></li>
</ul>
<li aria-level="2"><span>Demonstrate recursive aggregation from </span><span>portfolio_structure.json</span><span>.</span></li>
</ul>
</ul>
<h4><strong>🔁 Behavioral Patterns</strong></h4>
<p><strong>Strategy Pattern</strong></p>
<ul>
<li aria-level="1"><span>Problem: Support interchangeable trading strategies.</span></li>
<li aria-level="1"><span>Expectations:</span></li>
<ul>
<li aria-level="2"><span>Create abstract </span><span>Strategy.generate_signals(tick: MarketDataPoint) -&gt; list</span><span>.</span></li>
<li aria-level="2"><span>Implement:</span></li>
<ul>
<li aria-level="3"><span>MeanReversionStrategy</span></li>
<li aria-level="3"><span>BreakoutStrategy</span></li>
</ul>
<li aria-level="2"><span>Each maintains internal state and uses parameters from </span><span>strategy_params.json</span><span>.</span></li>
<li aria-level="2"><span>Demonstrate strategy interchangeability and signal generation.</span></li>
</ul>
</ul>
<p><strong>Observer Pattern</strong></p>
<ul>
<li aria-level="1"><span>Problem: Notify external modules when signals are generated.</span></li>
<li aria-level="1"><span>Expectations:</span></li>
<ul>
<li aria-level="2"><span>Implement </span><span>SignalPublisher</span><span> with </span><span>.attach(observer)</span><span> and </span><span>.notify(signal)</span><span>.</span></li>
<li aria-level="2"><span>Define </span><span>Observer.update(signal: dict)</span><span>.</span></li>
<li aria-level="2"><span>Implement:</span></li>
<ul>
<li aria-level="3"><span>LoggerObserver</span><span>: logs signals</span></li>
<li aria-level="3"><span>AlertObserver</span><span>: alerts on large trades</span></li>
</ul>
<li aria-level="2"><span>Demonstrate dynamic observer registration and notification.</span></li>
</ul>
</ul>
<p><strong>Command Pattern</strong></p>
<ul>
<li aria-level="1"><span>Problem: Encapsulate order execution and support undo/redo.</span></li>
<li aria-level="1"><span>Expectations:</span></li>
<ul>
<li aria-level="2"><span>Define </span><span>Command.execute()</span><span> and </span><span>Command.undo()</span><span>.</span></li>
<li aria-level="2"><span>Implement:</span></li>
<ul>
<li aria-level="3"><span>ExecuteOrderCommand</span><span>: executes trade</span></li>
<li aria-level="3"><span>UndoOrderCommand</span><span>: reverses trade</span></li>
</ul>
<li aria-level="2"><span>Use </span><span>CommandInvoker</span><span> to manage command history.</span></li>
<li aria-level="2"><span>Demonstrate trade lifecycle: signal → execution → undo → redo.</span></li>
</ul>
</ul>
<h3><strong>🧪 Unit Tests</strong></h3>
<ul>
<li aria-level="1"><span>Validate Factory creates correct instrument types.</span></li>
<li aria-level="1"><span>Confirm Singleton behavior with shared config.</span></li>
<li aria-level="1"><span>Test Decorator-enhanced analytics output.</span></li>
<li aria-level="1"><span>Verify Observer notifications and Command execution/undo logic.</span></li>
<li aria-level="1"><span>Confirm strategy outputs match expectations for given inputs.</span></li>
</ul>
<h3><strong>📦 Deliverables</strong></h3>
<p><span>👉 Please share your GitHub with your TAs:</span></p>
<ul>
<li aria-level="1"><span>Jenn: jcolli5158</span></li>
<li aria-level="1"><span>Hunter: hyoung3</span></li>
</ul>
<p>&nbsp;</p>
<table>
<tbody>
<tr>
<td>
<p><strong>File</strong></p>
</td>
<td>
<p><strong>Description</strong></p>
</td>
</tr>
<tr>
<td>
<p><span>data_loader.py</span></p>
</td>
<td>
<p><span>Adapter-based ingestion from mock data sources</span></p>
</td>
</tr>
<tr>
<td>
<p><span>models.py</span></p>
</td>
<td>
<p><span>Instrument classes, decorators, and portfolio components</span></p>
</td>
</tr>
<tr>
<td>
<p><span>patterns/</span></p>
</td>
<td>
<p><span>Factory, Singleton, Builder, Strategy, Observer, Command</span></p>
</td>
</tr>
<tr>
<td>
<p><span>analytics.py</span></p>
</td>
<td>
<p><span>Volatility, beta, drawdown decorators</span></p>
</td>
</tr>
<tr>
<td>
<p><span>engine.py</span></p>
</td>
<td>
<p><span>Strategy execution and signal dispatch</span></p>
</td>
</tr>
<tr>
<td>
<p><span>reporting.py</span></p>
</td>
<td>
<p><span>Observer-based logging and analytics</span></p>
</td>
</tr>
<tr>
<td>
<p><span>main.py</span></p>
</td>
<td>
<p><span>Orchestrates configuration, ingestion, strategy execution</span></p>
</td>
</tr>
<tr>
<td>
<p><span>tests/</span></p>
</td>
<td>
<p><span>Unit tests or notebook-based validation</span></p>
</td>
</tr>
<tr>
<td>
<p><span>design_report.md</span></p>
</td>
<td>
<p><span>Summary of patterns used, rationale, and tradeoffs</span></p>
</td>
</tr>
<tr>
<td>
<p><span>README.md</span></p>
</td>
<td>
<p><span>Setup instructions and module descriptions</span></p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p></div></span>
